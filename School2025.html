
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>香港幼稚園排名</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Font: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light blue-gray background */
        }
        /* Style for the kindergarten cards */
        .kindergarten-card {
            transition: all 0.3s ease-in-out; /* Smooth transition for hover effects */
            position: relative; /* Needed for absolute positioning of bookmarks */
        }
        .kindergarten-card:hover {
            transform: translateY(-3px); /* Slight lift on hover */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* Larger shadow on hover */
        }
        /* Highlight style for cards with associated schools - green border */
        .highlighted-card {
            background-color: #e6ffed; /* Lighter green background for highlighted cards */
            border: 2px solid #10b981; /* Green border (tailwind green-500) */
        }
        /* Details are always visible, no hidden state */
        .kindergarten-details {
            margin-top: 1rem; /* Add space below the name */
        }
        .bookmark-button-single { /* Changed class name for single button */
            position: absolute;
            top: 1rem;
            right: 1rem;
            display: flex;
            gap: 0.5rem;
        }
        .bookmark-btn {
            background-color: #cbd5e1; /* Light gray */
            color: #475569; /* Darker gray text */
            padding: 0.4rem 0.6rem;
            border-radius: 9999px; /* Full rounded */
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            justify-content: center; /* Center the star icon */
            width: 2.5rem; /* Fixed width for a square-ish button */
            height: 2.5rem; /* Fixed height for a square-ish button */
        }
        .bookmark-btn:hover {
            background-color: #94a3b8; /* Medium gray on hover */
            color: #f8fafc; /* Lighter text on hover */
        }
        .bookmark-btn.bookmarked {
            background-color: #fcd34d; /* Amber-300 */
            color: #b45309; /* Amber-800 */
        }
        .bookmark-btn.bookmarked:hover {
            background-color: #fbbf24; /* Amber-400 */
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-7xl mx-auto bg-white rounded-xl shadow-lg p-6 md:p-10">
        <h1 class="text-3xl md:text-5xl font-extrabold text-center text-gray-900 mb-8">香港幼稚園排名</h1>

        <!-- Filter Controls -->
        <div class="mb-6 flex flex-wrap items-center justify-center gap-4">
            <div>
                <label for="association-filter" class="block text-sm font-medium text-gray-700 mb-1">關聯學校篩選:</label>
                <select id="association-filter" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md">
                    <option value="all">所有</option>
                    <option value="associated">有關聯學校</option>
                    <option value="not-associated">沒有關聯學校</option>
                </select>
            </div>

            <div>
                <label for="gender-filter" class="block text-sm font-medium text-gray-700 mb-1">性別篩選:</label>
                <select id="gender-filter" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md">
                    <option value="all">所有</option>
                    <option value="男女校">男女校</option>
                    <option value="男校">男校</option>
                    <option value="女校">女校</option>
                </select>
            </div>

            <div>
                <label for="language-filter" class="block text-sm font-medium text-gray-700 mb-1">教學語言篩選:</label>
                <select id="language-filter" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md">
                    <option value="all">所有</option>
                    <option value="中文">中文</option>
                    <option value="英文">英文</option>
                    <option value="中英文">中英文</option>
                    <option value="兩文三語">兩文三語</option>
                </select>
            </div>
        </div>

        <!-- Display 5 cards horizontally on large screens -->
        <div id="kindergarten-list" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6">
            <!-- Kindergarten cards will be dynamically inserted here -->
        </div>
    </div>

    <script type="module">
        // Firebase SDK imports
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc, collection, onSnapshot } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Firebase configuration (provided by Canvas environment)
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        // Initialize Firebase
        let app;
        let db;
        let auth;
        let currentUserId = null;
        let userAId = 'userA'; // Hardcoded user ID for demonstration

        // Data for kindergartens (static data for now, will be augmented with bookmarks and new info)
        const kindergartens = [
            {
                id: 'kindergarten-1', // Unique ID for Firestore
                rank: 1,
                englishName: 'ST. CATHERINE’S INTERNATIONAL KINDERGARTEN',
                chineseName: '國際英文幼稚園',
                freeScheme: '沒有',
                district: '九龍城區',
                tuition: '$70,433 (11)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '英文',
                website: '待查' // New field
            },
            {
                id: 'kindergarten-2',
                rank: 2,
                englishName: 'SHENG KUNG HUI KINDERGARTEN',
                chineseName: '聖公會幼稚園',
                freeScheme: '沒有',
                district: '灣仔區',
                tuition: '$53,000(10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-3',
                rank: 3,
                englishName: 'KENTVILLE KINDERGARTEN',
                chineseName: '根德園幼稚園',
                freeScheme: '沒有',
                district: '九龍城區',
                tuition: '$46,000 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-4',
                rank: 4,
                englishName: 'BRAEMAR HILL NURSERY SCHOOL',
                chineseName: '寶山幼兒園',
                freeScheme: '沒有',
                district: '灣仔區',
                tuition: '$131,040 (12)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-5',
                rank: 5,
                englishName: 'ST. MARGARET MARY’S CATHOLIC KINDERGARTEN',
                chineseName: '天主教聖瑪加利大幼稚園',
                freeScheme: '沒有',
                district: '灣仔區',
                tuition: '免費',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-6',
                rank: 6,
                englishName: 'SACRED HEART CANOSSIAN KINDERGARTEN',
                chineseName: '嘉諾撒聖心幼稚園',
                freeScheme: '是',
                district: '中西區',
                tuition: '$1,540 (10)',
                primarySchool: '嘉諾撒聖心學校私立部',
                secondarySchool: '嘉諾撒聖心書院',
                relationship: '直屬',
                gender: '女校',
                teachingLanguage: '主要粵語',
                website: '待查'
            },
            {
                id: 'kindergarten-7',
                rank: 7,
                englishName: 'ST. PAUL’S CHURCH KINDERGARTEN (NORTH POINT)',
                chineseName: '聖保羅堂幼稚園（北角）',
                freeScheme: '有',
                district: '東區',
                tuition: '免費',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-8',
                rank: 8,
                englishName: 'ST. PAUL’S KINDERGARTEN',
                chineseName: '聖保祿幼稚園',
                freeScheme: '不是',
                district: '灣仔區',
                tuition: '$34,050 (10)',
                primarySchool: '聖保祿學校(小學部) St. Paul’s Convent School (Primary Section)',
                secondarySchool: '聖保祿學校',
                relationship: '直屬',
                gender: '女校',
                teachingLanguage: '粵語輔以英語及普通話',
                website: '待查'
            },
            {
                id: 'kindergarten-9',
                rank: 9,
                englishName: 'VICTORIA (BELCHER) KINDERGARTEN',
                chineseName: '維多利亞（寶翠園）幼稚園',
                freeScheme: '沒有',
                district: '中西區',
                tuition: '幼兒班：$110,264 (11)<br>低班：$100,600 (10)<br>高班：$102,480 (10)<br>全日高班：$179,660 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-10',
                rank: 10,
                englishName: 'KEEN MIND KINDERGARTEN',
                chineseName: '劍鳴幼稚園',
                freeScheme: '沒有',
                district: '九龍城區',
                tuition: '$64,350 (11)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-11',
                rank: 11,
                englishName: 'CAUSEWAY BAY VICTORIA INTERNATIONAL KINDERGARTEN',
                chineseName: '銅鑼灣維多利亞國際幼稚園',
                freeScheme: '沒有',
                district: '灣仔區',
                tuition: '$96,481/$171,930(11)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-12',
                rank: 12,
                englishName: 'VICTORIA (HOMANTIN) INTERNATIONAL NURSERY',
                chineseName: '維多利亞（何文田）國際幼兒園',
                freeScheme: '沒有',
                district: '九龍城區',
                tuition: '幼兒班：$99,154 (11)<br>低班：$90.270 (10)<br>高班：$90,140 (10)<br>全日高班：$173,250(10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-13',
                rank: 13,
                englishName: 'PRECIOUS BLOOD KINDERGARTEN',
                chineseName: '寶血幼稚園',
                freeScheme: '有',
                district: '灣仔區',
                tuition: '免費',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-14',
                rank: 14,
                englishName: 'MUNSANG COLLEGE KINDERGARTEN',
                chineseName: '民生書院幼稚園',
                freeScheme: '不是',
                district: '九龍城區',
                tuition: '$46,400 (10)',
                primarySchool: '民生書院小學',
                secondarySchool: '民生書院',
                relationship: '直屬',
                gender: '男女校',
                teachingLanguage: '兩文三語（英語、粵語、普通話）',
                website: 'https://kindergarten.munsang.edu.hk/' // Example data
            },
            {
                id: 'kindergarten-15',
                rank: 15,
                englishName: 'PUI CHING PRIMARY SCHOOL (KINDERGARTEN)',
                chineseName: '香港培正小學（幼稚園）',
                freeScheme: '不是',
                district: '九龍城區',
                tuition: '$46,210(10)',
                primarySchool: '香港培正小學',
                secondarySchool: '香港培正中學',
                relationship: '直屬',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-16',
                rank: 16,
                englishName: 'YORK INTERNATIONAL KINDERGARTEN',
                chineseName: '約克國際幼稚園',
                freeScheme: '沒有',
                district: '九龍城區',
                tuition: '$87,996 (12)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-17',
                rank: 17,
                englishName: 'HONG KONG LING LIANG CHURCH KINDERGARTEN',
                chineseName: '香港靈糧堂幼稚園',
                freeScheme: '有',
                district: '灣仔區',
                tuition: '免費',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-18',
                rank: 18,
                englishName: 'YORK ENGLISH PRIMARY SCHOOL & KINDERGARTEN (KOWLOON TONG)',
                chineseName: '約克英文小學暨幼稚園（九龍塘）',
                freeScheme: '沒有',
                district: '九龍城區',
                tuition: '$70,200(12)-$87,996(12)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-19',
                rank: 19,
                englishName: 'ST. CATHERINE’S INTERNATIONAL KINDERGARTEN',
                chineseName: '國際英文幼稚園（雅息士道）',
                freeScheme: '沒有',
                district: '九龍城區',
                tuition: '$70,433 (11)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                website: '待查'
            },
            {
                id: 'kindergarten-20',
                rank: 20,
                englishName: 'VICTORIA (SOUTH HORIZONS) INTERNATIONAL KINDERGARTEN',
                chineseName: '維多利亞（海怡）國際幼稚園',
                freeScheme: '沒有',
                district: '南區',
                tuition: '幼兒班：$107,239 (11)<br>低班：$96,910 (10)<br>高班：$99,660 (10)<br>全日高班：$177,960 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-21',
                rank: 21,
                englishName: 'KIANGSU & CHEKIANG PRIMARY SCHOOL',
                chineseName: '蘇浙小學校',
                freeScheme: '不是',
                district: '東區',
                tuition: '幼兒班：$41,320 (11)<br>低班：$41,320-$73,390 (10)<br>高班：$41,320-$73,390 (10)<br>全日高班：$53,770 (10)',
                primarySchool: '蘇浙小學',
                secondarySchool: '沒有',
                relationship: '沒有',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-22',
                rank: 22,
                englishName: 'KORNHILL VICTORIA KINDERGARTEN',
                chineseName: '康怡維多利亞幼稚園',
                freeScheme: '沒有',
                district: '東區',
                tuition: '幼兒班：$46,644 (12)<br>全日幼兒班：$66,262(12)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-23',
                rank: 23,
                englishName: 'ST. PAUL’S CHURCH KINDERGARTEN',
                chineseName: '聖保羅堂幼稚園',
                freeScheme: '有',
                district: '中西區',
                tuition: '免費',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-24',
                rank: 24,
                englishName: 'GOOD HOPE PRIMARY SCHOOL CUM KINDERGARTEN',
                chineseName: '德望小學暨幼稚園',
                freeScheme: '不是',
                district: '黃大仙區',
                tuition: '$43,000 (10)',
                primarySchool: '德望小學',
                secondarySchool: '德望中學',
                relationship: '聯繫',
                gender: '女校',
                teachingLanguage: '中文及英文',
                website: '待查'
            },
            {
                id: 'kindergarten-25',
                rank: 25,
                englishName: 'NORTH POINT METHODIST CHURCH KINDERGARTEN',
                chineseName: '北角衛理堂幼稚園',
                freeScheme: '有',
                district: '東區',
                tuition: '免費',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-26',
                rank: 26,
                englishName: 'YEW CHUNG CHILDREN’S HOUSE (SOMERSET ROAD)',
                chineseName: '耀中幼稚園（森麻實道）',
                freeScheme: '沒有',
                district: '九龍城區',
                tuition: '$213,466 (11)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-27',
                rank: 27,
                englishName: 'THE TRUE LIGHT MIDDLE SCHOOL OF HONG KONG (KINDERGARTEN SECTION)',
                chineseName: '香港真光中學（幼稚園）',
                freeScheme: '是',
                district: '灣仔區',
                tuition: '$43,240 (10)',
                primarySchool: '香港真光中學(小學部)',
                secondarySchool: '香港真光中學',
                relationship: '聯繫',
                gender: '女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-28',
                rank: 28,
                englishName: 'VICTORIA KINDERGARTEN',
                chineseName: '維多利亞幼稚園',
                freeScheme: '沒有',
                district: '東區',
                tuition: '幼兒班：$91,564 (11)<br>低班：$83,860 (10)<br>高班：$86,090 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-29',
                rank: 29,
                englishName: 'VICTORIA (HARBOUR GREEN) KINDERGARTEN',
                chineseName: '維多利亞（君匯港）幼稚園',
                freeScheme: '沒有',
                district: '油尖旺區',
                tuition: '$99,253 (11)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-30',
                rank: 30,
                englishName: 'LEARNING HABITAT KINDERGARTEN',
                chineseName: '學之園幼稚園',
                freeScheme: '沒有',
                district: '葵青區',
                tuition: '$79,200 (12)-$82,800(12)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-31',
                rank: 31,
                englishName: 'LEARNING HABITAT KINDERGARTEN (CHATHAM LV)',
                chineseName: '學之園幼稚園（昇御海逸）',
                freeScheme: '沒有',
                district: '九龍城區',
                tuition: '$79,200 (12)-$82,800(12)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-32',
                rank: 32,
                englishName: 'YORK ENGLISH & CHINESE KINDERGARTEN',
                chineseName: '約克中英文幼稚園',
                freeScheme: '沒有',
                district: '九龍城區',
                tuition: '$70,200(12)-$87,996(12)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-33',
                rank: 33,
                englishName: 'MING WAI INTERNATIONAL KINDERGARTEN (NORTH POINT BRANCH)',
                chineseName: '明慧國際幼稚園（北角分校）',
                freeScheme: '沒有',
                district: '東區',
                tuition: '半日班：$65,120 (11)<br>全日班：$118,360 (11)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-34',
                rank: 34,
                englishName: 'CHRIST CHURCH KINDERGARTEN',
                chineseName: '基督堂幼稚園',
                freeScheme: '沒有',
                district: '九龍城區',
                tuition: '$65,000 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '英文',
                website: '待查'
            },
            {
                id: 'kindergarten-35',
                rank: 35,
                englishName: 'ST STEPHEN’S GIRLS’ COLLEGE KINDERGARTEN',
                chineseName: '聖士提反女子中學附屬幼稚園',
                freeScheme: '是',
                district: '中西區',
                tuition: '免費',
                primarySchool: '聖士提反女子中學附屬小學',
                secondarySchool: '聖士提反女子中學',
                relationship: '直屬',
                gender: '女校',
                teachingLanguage: '英文 (主要)',
                website: '待查'
            },
            {
                id: 'kindergarten-36',
                rank: 36,
                englishName: 'ST NICHOLAS’ ENGLISH KINDERGARTEN',
                chineseName: '金巴倫英文幼稚園',
                freeScheme: '沒有',
                district: '九龍城區',
                tuition: '$64,130 (11)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '英文',
                website: '待查'
            },
            {
                id: 'kindergarten-37',
                rank: 37,
                englishName: 'HONG KONG SOKA KINDERGARTEN',
                chineseName: '香港創價幼稚園',
                freeScheme: '有',
                district: '九龍城區',
                tuition: '$2,112 (11)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-38',
                rank: 38,
                englishName: 'LEARNING HABITAT KINDERGARTEN (DOUBLE COVE)',
                chineseName: '學之園幼稚園(凱帆薈)',
                freeScheme: '沒有',
                district: '油尖旺區',
                tuition: '上午班：$79,200(12)-$82,800(12)<br>下午班：$79,200(12)-$82,800(12)<br>全日班：$107,100(12)-$109,500(12)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-39',
                rank: 39,
                englishName: 'HEEP YUNN SCHOOL PRIVATE KINDERGARTEN',
                chineseName: '協恩中學附屬幼稚園',
                freeScheme: '有',
                district: '九龍城區',
                tuition: '免費',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-40',
                rank: 40,
                englishName: 'KAU YAN SCHOOL',
                chineseName: '救恩學校',
                freeScheme: '是',
                district: '中西區',
                tuition: '免費',
                primarySchool: '救恩學校',
                secondarySchool: '匯基書院(東九龍)',
                relationship: '聯繫',
                gender: '男女校',
                teachingLanguage: '主要中文，英文科全英語教學',
                website: '待查'
            },
            {
                id: 'kindergarten-41',
                englishName: 'CREATIVE PRIMARY SCHOOL’S KINDERGARTEN',
                chineseName: '啓思小學附屬幼稚園',
                freeScheme: '不是',
                district: '九龍城區',
                tuition: '$65,780 (11)',
                primarySchool: '啓思小學',
                secondarySchool: '啓思中學',
                relationship: '沒關係',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-42',
                englishName: 'OI KWAN ROAD BAPTIST CHURCH LUI KWOK PAT FONG KINDERGARTEN',
                chineseName: '愛群道浸信會呂郭碧鳳幼稚園',
                freeScheme: '有',
                district: '灣仔區',
                tuition: '半日班：免費<br>全日班：$18,230(10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-43',
                englishName: 'ESF INTERNATIONAL KINDERGARTEN（HILLSIDE）',
                chineseName: '英基國際幼稚園（曉新）',
                freeScheme: '沒有',
                district: '灣仔區',
                tuition: '$80,500(10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '英文',
                website: '待查'
            },
            {
                id: 'kindergarten-44',
                englishName: 'MING WAI KINDERGARTEN',
                chineseName: '明慧國際幼稚園',
                freeScheme: '沒有',
                district: '東區',
                tuition: '$51,920 (11)-$58,740(11)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-45',
                rank: 45,
                englishName: 'ROSARYHILL KINDERGARTEN',
                chineseName: '玫瑰崗幼稚園',
                freeScheme: '沒有',
                district: '灣仔區',
                tuition: '上午/下午班：$33,750(10)<br>全日班：$56,050(10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-46',
                rank: 46,
                englishName: 'BAPTIST PUI LI SCHOOL',
                chineseName: '浸信會培理學校',
                freeScheme: '有',
                district: '東區',
                tuition: '半日班：免費<br>全日班：$15,570 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-47',
                rank: 47,
                englishName: 'ST. STEPHEN’S CHURCH PRIMARY SCHOOL & KINDERGARTEN',
                chineseName: '聖士提反堂小學暨幼稚園',
                freeScheme: '有',
                district: '中西區',
                tuition: '半日班：免費<br>全日班：$12,290(10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-48',
                rank: 48,
                englishName: 'S.K.H. ST. PETER’S CHURCH CASTLE PEAK SIU LUN COURT KINDERGARTEN',
                chineseName: '聖公會青山聖彼得堂兆麟苑幼稚園',
                freeScheme: '有',
                district: '屯門區',
                tuition: '半日班：免費<br>全日班：$10,300 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-49',
                rank: 49,
                englishName: 'PUI CHING PRIMARY SCHOOL (KINDERGARTEN SECTION)',
                chineseName: '香港培道小學（幼稚園部）',
                freeScheme: '是',
                district: '九龍城區',
                tuition: '免費',
                primarySchool: '香港培道小學',
                secondarySchool: '香港培道中學',
                relationship: '聯繫',
                gender: '女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-50',
                rank: 50,
                englishName: 'GERMAN SWISS INTERNATIONAL SCHOOL',
                chineseName: '德瑞國際學校',
                freeScheme: '沒有',
                district: '南區',
                tuition: '$156,110 (2)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '德文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-51',
                rank: 51,
                englishName: 'HARROW INTERNATIONAL SCHOOL HONG KONG',
                chineseName: '哈羅香港國際學校',
                freeScheme: '沒有',
                district: '屯門區',
                tuition: '$149,924(2)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '英文',
                website: '待查'
            },
            {
                id: 'kindergarten-52',
                rank: 52,
                englishName: 'LAM TIN LING LIANG KINDERGARTEN',
                chineseName: '藍田靈糧幼稚園',
                freeScheme: '有',
                district: '觀塘區',
                tuition: '免費',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-53',
                rank: 53,
                englishName: 'CHINESE INTERNATIONAL SCHOOL',
                chineseName: '漢基國際學校',
                freeScheme: '沒有',
                district: '東區',
                tuition: '$173,200 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-54',
                rank: 54,
                englishName: 'GREENFIELD ENGLISH (INTERNATIONAL) KINDERGARTEN (THE LONG BEACH)',
                chineseName: '綠茵英文（國際）幼稚園（浪澄灣）',
                freeScheme: '沒有',
                district: '油尖旺區',
                tuition: '半日班：$83,064 (12)<br>全日班：$123,828 (12)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-55',
                rank: 55,
                englishName: 'CAUSEWAY BAY VICTORIA KINDERGARTEN',
                chineseName: '銅鑼灣維多利亞幼稚園',
                freeScheme: '不是',
                district: '灣仔區',
                tuition: '$91,564 (11)',
                primarySchool: '滬江維多利亞學校',
                secondarySchool: '滬江維多利亞學校',
                relationship: '結龍',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-56',
                rank: 56,
                englishName: 'ST. ROSE OF LIMA’S KINDERGARTEN',
                chineseName: '聖羅撒幼稚園',
                freeScheme: '有',
                district: '九龍城區',
                tuition: '免費',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-57',
                rank: 57,
                englishName: 'CHOICE ENGLISH SCHOOL & KINDERGARTEN (TSING YI BRANCH)',
                chineseName: '卓思英文學校暨幼稚園（青怡分校）',
                freeScheme: '有',
                district: '葵青區',
                tuition: '半日班：免費<br>全日班：$10,130 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-58',
                rank: 58,
                englishName: 'ANCHORS KINDERGARTEN (FANLING)',
                chineseName: '安基司幼稚園（粉嶺）',
                freeScheme: '沒有',
                district: '北區',
                tuition: '半日班：$58,300 (11)<br>全日班：$84,700 (11)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-59',
                rank: 59,
                englishName: 'JAMES ANGLO-CHINESE KINDERGARTEN (SHAM SHUI PO)',
                chineseName: '雅各中英文幼稚園（深水埗校）',
                freeScheme: '有',
                district: '深水埗區',
                tuition: '全日班：$5,170 (11)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-60',
                rank: 60,
                englishName: 'HONG KONG LING LIANG CHURCH TSUEN WAN KINDERGARTEN',
                chineseName: '香港靈糧堂荃灣幼稚園',
                freeScheme: '有',
                district: '荃灣區',
                tuition: '$3,030 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-61',
                rank: 61,
                englishName: 'WELLCOME INTERNATIONAL KINDERGARTEN',
                chineseName: '宏廣國際幼稚園',
                freeScheme: '沒有',
                district: '屯門區',
                tuition: '半日班：約$60,720 (12)<br>全日班：約$88,320 (12)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-62',
                rank: 62,
                englishName: 'S.K.H. CROWN OF THORNS CHURCH SADICK KINDERGARTEN',
                chineseName: '聖公會荊冕堂士德幼稚園',
                freeScheme: '有',
                district: '葵青區',
                tuition: '半日班：免費<br>全日班：$10,450 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-63',
                rank: 63,
                englishName: 'PO LEUNG KUK TAM AU-YEUNG SIU FONG MEMORIAL KINDERGARTEN',
                chineseName: '保良局譚歐陽少芳紀念幼稚園',
                freeScheme: '有',
                district: '九龍城區',
                tuition: '$5,390 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-64',
                rank: 64,
                englishName: 'HKVNS ALUMNI ASSOCIATION KINDERGARTEN (KCC)',
                chineseName: '漢師幼稚園（龍總）',
                freeScheme: '有',
                district: '油尖旺區',
                tuition: '$900 (12)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-65',
                rank: 65,
                englishName: 'LUK YEUNG KINDERGARTEN',
                chineseName: '綠楊幼稚園',
                freeScheme: '沒有',
                district: '荃灣區',
                tuition: '$50,400 (12)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-66',
                rank: 66,
                englishName: 'ST. LORRAINE KINDERGARTEN (YUEN LONG)',
                chineseName: '萊恩幼稚園（元朗）',
                freeScheme: '沒有',
                district: '元朗區',
                tuition: '約$69,600 (12) – ＄73,800 (12)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-67',
                rank: 67,
                englishName: 'S.K.H. ST. PETER’S CHURCH KINDERGARTEN (CASTLE PEAK)',
                chineseName: '聖公會青山聖彼得堂幼稚園',
                freeScheme: '有',
                district: '屯門區',
                tuition: '半日班：免費<br>全日班：$13,620 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-68',
                rank: 68,
                englishName: 'TACK CHING KINDERGARTEN',
                chineseName: '德貞幼稚園',
                freeScheme: '有',
                district: '深水埗區',
                tuition: '免費',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-69',
                rank: 69,
                englishName: 'TSUNG TSIN PRIMARY SCHOOL AND KINDERGARTEN (LOCAL STREAM)',
                chineseName: '崇真小學暨幼稚園（本地課程）',
                freeScheme: '是',
                district: '深水埗區',
                tuition: '$3,920 (10)',
                primarySchool: '崇真小學',
                secondarySchool: '沙田崇真中學',
                relationship: '聯繫',
                gender: '男女校',
                teachingLanguage: '中文（包括普通話）及英文',
                website: '待查'
            },
            {
                id: 'kindergarten-70',
                rank: 70,
                englishName: 'HOLY TRINITY CENTRE KINDERGARTEN',
                chineseName: '聖三一中心幼稚園',
                freeScheme: '不是',
                district: '九龍城區',
                tuition: '$17,450 (10)',
                primarySchool: '聖三一堂小學',
                secondarySchool: '聖三一堂中學',
                relationship: '聯繫',
                gender: '男女校',
                teachingLanguage: '中文、英文',
                website: '待查'
            },
            {
                id: 'kindergarten-71',
                rank: 71,
                englishName: 'JOYFUL WORLD KINDERGARTEN',
                chineseName: '心怡天地幼稚園',
                freeScheme: '沒有',
                district: '荃灣區',
                tuition: '$54,780 (11)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-72',
                rank: 72,
                englishName: 'CUHK FEDERATION OF ALUMNI ASSOCIATIONS THOMAS CHEUNG KINDERGARTEN',
                chineseName: '香港中文大學校友會聯會張煊昌幼稚園',
                freeScheme: '有',
                district: '沙田區',
                tuition: '半日班：免費<br>全日班：$9,880 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-73',
                rank: 73,
                englishName: 'ST. MARK’S CHURCH BRADBURY KINDERGARTEN',
                chineseName: '聖馬可堂白普理幼稚園',
                freeScheme: '有',
                district: '九龍城區',
                tuition: '半日班：免費<br>全日班：$21,370 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-74',
                rank: 74,
                englishName: 'JOYFUL WORLD KINDERGARTEN (SHA TIN)',
                chineseName: '心怡天地幼稚園（沙田）',
                freeScheme: '沒有',
                district: '沙田區',
                tuition: '$59,180 (11)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-75',
                rank: 75,
                englishName: 'MING WAI INTERNATIONAL KINDERGARTEN (PRINCE EDWARD BRANCH)',
                chineseName: '明慧國際幼稚園（太子分校）',
                freeScheme: '沒有',
                district: '油尖旺區',
                tuition: '半日班：$62,040 (11)<br>全日班：$109,560 (11)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-76',
                rank: 76,
                englishName: 'CHOI HA ESTATE KIT SAM KINDERGARTEN',
                chineseName: '天主教彩霞邨潔心幼稚園',
                freeScheme: '有',
                district: '觀塘區',
                tuition: '$11,671 (11)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-77',
                rank: 77,
                englishName: 'YUEN LONG LUTHERAN LIFE KINDERGARTEN',
                chineseName: '元朗信義會生命幼稚園',
                freeScheme: '有',
                district: '元朗區',
                tuition: '免費',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-78',
                rank: 78,
                englishName: 'HONG KONG MAN SANG KINDERGARTEN (NORTH POINT)',
                chineseName: '香港民生幼稚園（北角）',
                freeScheme: '沒有',
                district: '東區',
                tuition: '半日班：$51,216 (12)<br>全日班：$81,180 (12)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-79',
                rank: 79,
                englishName: 'THINK INTERNATIONAL KINDERGARTEN (MEI FOO)',
                chineseName: '朗思國際幼稚園（美孚）',
                freeScheme: '沒有',
                district: '深水埗區',
                tuition: '半日班：$40,300 (10) – $63,000 (10)<br>全日班：$102,300 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-80',
                rank: 80,
                englishName: 'MA ON SHAN LING LIANG KINDERGARTEN',
                chineseName: '馬鞍山靈糧幼稚園',
                freeScheme: '有',
                district: '沙田區',
                tuition: '免費',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-81',
                rank: 81,
                englishName: 'TSING YI TRADE ASSOCIATION TSEUNG KWAN O KINDERGARTEN',
                chineseName: '青衣商會將軍澳幼稚園',
                freeScheme: '有',
                district: '西貢區',
                tuition: '半日班：免費<br>全日班：$4,336 (11)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-82',
                rank: 82,
                englishName: 'HOP YAT CHURCH CHAN PAK WANG MEMORIAL KINDERGARTEN',
                chineseName: '合一堂陳伯宏紀念幼稚園',
                freeScheme: '有',
                district: '東區',
                tuition: '半日班：免費<br>全日班：$14,240 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-83',
                rank: 83,
                englishName: 'ST. BARNABAS’ CHURCH KINDERGARTEN',
                chineseName: '聖巴拿巴堂幼稚園',
                freeScheme: '有',
                district: '觀塘區',
                tuition: '免費',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-84',
                rank: 84,
                englishName: 'ZENITH KINDERGARTEN(TAI PO)',
                chineseName: '英藝幼稚園（元朗）',
                freeScheme: '沒有',
                district: '元朗區',
                tuition: '$14,400 (12)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-85',
                rank: 85,
                englishName: 'YUEN LONG LUTHERAN LIFE KINDERGARTEN',
                chineseName: '中華基督教會元朗堂真光幼稚園',
                freeScheme: '有',
                district: '元朗區',
                tuition: '免費',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-86',
                rank: 86,
                englishName: 'CHRISTIAN YOUTH CENTRE KINDERGARTEN (YAU TONG)',
                chineseName: '基督教中心幼稚園（油塘）',
                freeScheme: '有',
                district: '觀塘區',
                tuition: '半日班：免費<br>全日班：$15,820 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-87',
                rank: 87,
                englishName: 'ZENITH PRIMARY SCHOOL & KINDERGARTEN',
                chineseName: '英藝小學暨幼稚園',
                freeScheme: '沒有',
                district: '元朗區',
                tuition: '半日班：$62,400 (12)<br>全日班：$88,800 (12)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-88',
                rank: 88,
                englishName: 'ANCHORS INTERNATIONAL NURSERY',
                chineseName: '安基司國際幼兒園',
                freeScheme: '沒有',
                district: '大埔區',
                tuition: '半日班：$58,300 (11)<br>全日班：$84,700 (11)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-89',
                rank: 89,
                englishName: 'PO LEUNG KUK CHEUNG POON MEI YEE KINDERGARTEN',
                chineseName: '保良局張潘美意幼稚園',
                freeScheme: '有',
                district: '離島區',
                tuition: '半日班：免費<br>全日班：$11,240 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-90',
                rank: 90,
                englishName: 'PO LEUNG KUK LI TSUI CHUNG SING MEMORIAL KINDERGARTEN',
                chineseName: '保良局李徐松聲紀念幼稚園',
                freeScheme: '有',
                district: '九龍城區',
                tuition: '半日班：免費<br>全日班：$10,250 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-91',
                rank: 91,
                englishName: 'ST JAMES’ SETTLEMENT KATHLEEN MCDOUALL KINDERGARTEN',
                chineseName: '聖雅各福群會麥潔蓮幼稚園',
                freeScheme: '有',
                district: '灣仔區',
                tuition: '全日班：$27,264 (12)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-92',
                rank: 92,
                englishName: 'YAN OI TONG PONG LO SHUK YIN KINDERGARTEN',
                chineseName: '仁愛堂龐盧淑燕幼稚園',
                freeScheme: '有',
                district: '深水埗區',
                tuition: '半日班：免費<br>全日班：$2,670 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-93',
                rank: 93,
                englishName: 'PO LEUNG KUK TIN KA PING SIU HONG KINDERGARTEN',
                chineseName: '保良局田家炳兆康幼稚園',
                freeScheme: '有',
                district: '屯門區',
                tuition: '免費',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-94',
                rank: 94,
                englishName: 'WILLIAM (SMART) KINDERGARTEN (WHAMPOA) (LOCAL STREAM)',
                chineseName: '威廉（睿智）幼稚園（黃埔）（本地課程）',
                freeScheme: '有',
                district: '九龍城區',
                tuition: '半日班：$5,700 (10)<br>全日班：$25,890 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-95',
                rank: 95,
                englishName: 'RHENISH MISSION SCHOOL',
                chineseName: '禮賢會學校',
                freeScheme: '有',
                district: '中西區',
                tuition: '免費',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-96',
                rank: 96,
                englishName: 'CREATIVE KINDERGARTEN',
                chineseName: '啟思幼稚園',
                freeScheme: '沒有',
                district: '九龍城區',
                tuition: '半日：$56,040 (10)<br>全日：$62,675 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-97',
                rank: 97,
                englishName: 'TALENT KINDERGARTEN',
                chineseName: '天樂幼稚園',
                freeScheme: '有',
                district: '元朗區',
                tuition: '半日班：免費<br>全日班：$8,160 (12)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-98',
                rank: 98,
                englishName: 'S.K.H. CROWN OF THORNS CHURCH KWAI CHUNG KINDERGARTEN',
                chineseName: '聖公會荊冕堂葵涌幼稚園',
                freeScheme: '有',
                district: '葵青區',
                tuition: '半日班：免費<br>全日班：$4714 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            },
            {
                id: 'kindergarten-99',
                rank: 99,
                englishName: 'PARKVIEW RHINE GARDEN PRE-SCHOOL',
                chineseName: '栢基海韻幼稚園',
                freeScheme: '有',
                district: '荃灣區',
                tuition: '半日班：免費<br>全日班：$4,184 (10)',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文/英文',
                website: '待查'
            },
            {
                id: 'kindergarten-100',
                rank: 100,
                englishName: 'DIAMOND HILL LING LIANG KINDERGARTEN',
                chineseName: '鑽石山靈糧幼稚園',
                freeScheme: '有',
                district: '黃大仙區',
                tuition: '免費',
                primarySchool: '沒有',
                secondarySchool: '沒有',
                relationship: '獨立幼稚園',
                gender: '男女校',
                teachingLanguage: '中文',
                website: '待查'
            }
        ];

        // Map complex teaching languages to simplified categories for filtering
        function getSimplifiedLanguage(language) {
            // Added check for undefined or non-string language
            if (typeof language !== 'string') {
                return '其他';
            }
            if (language.includes('中文') && language.includes('英文')) {
                if (language.includes('兩文三語') || language.includes('粵語輔以英語及普通話') || language.includes('主要中文，英文科全英語教學') || language.includes('中文及英文') || language.includes('中文、英文') || language.includes('中文（包括普通話）及英文')) {
                    return '兩文三語';
                }
                return '中英文';
            } else if (language.includes('中文') || language.includes('粵語')) {
                return '中文';
            } else if (language.includes('英文') || language.includes('德文')) { // Include German/English as English for simplification
                return '英文';
            }
            return '其他'; // Fallback for any unmapped languages
        }

        // Augment kindergarten data with simplified language for filtering
        kindergartens.forEach(k => {
            k.simplifiedTeachingLanguage = getSimplifiedLanguage(k.teachingLanguage);
            // Initialize bookmark status for each kindergarten for userAId
            k.bookmarkedBy = { [userAId]: false }; // Only one user bookmark state
        });

        const kindergartenListDiv = document.getElementById('kindergarten-list');
        const associationFilter = document.getElementById('association-filter');
        const genderFilter = document.getElementById('gender-filter');
        const languageFilter = document.getElementById('language-filter');

        // Function to create a kindergarten card
        function createKindergartenCard(kindergarten) {
            const cardDiv = document.createElement('div');
            const hasAssociatedSchool = kindergarten.primarySchool !== '沒有' || kindergarten.secondarySchool !== '沒有';
            cardDiv.className = `kindergarten-card bg-white rounded-xl shadow-md p-4 mb-4 ${hasAssociatedSchool ? 'highlighted-card' : ''}`;

            const nameHeading = document.createElement('h2');
            nameHeading.className = 'text-xl font-semibold text-blue-700 mb-2';
            nameHeading.textContent = `${kindergarten.rank}. ${kindergarten.chineseName}`;
            cardDiv.appendChild(nameHeading);

            // Single Bookmark button container
            const bookmarkButtonsDiv = document.createElement('div');
            bookmarkButtonsDiv.className = 'bookmark-button-single'; // Changed class name

            // Single Bookmark Button
            const bookmarkBtn = document.createElement('button');
            // Use userAId to check bookmark status, as it's the only one displayed
            bookmarkBtn.className = `bookmark-btn ${kindergarten.bookmarkedBy[userAId] ? 'bookmarked' : ''}`;
            bookmarkBtn.innerHTML = `<i class="fa-solid fa-star"></i>`; // No text
            bookmarkBtn.dataset.kindergartenId = kindergarten.id;
            bookmarkBtn.dataset.userId = userAId; // Still tie to userAId for Firestore storage
            bookmarkBtn.addEventListener('click', (event) => toggleBookmark(event, kindergarten.id, userAId));
            bookmarkButtonsDiv.appendChild(bookmarkBtn);

            cardDiv.appendChild(bookmarkButtonsDiv);

            const detailsDiv = document.createElement('div');
            detailsDiv.className = 'kindergarten-details active'; // Always active

            detailsDiv.innerHTML = `
                <p class="text-gray-700 mb-1"><strong>幼稚園名稱 (英文):</strong> ${kindergarten.englishName}</p>
                <p class="text-gray-700 mb-1"><strong>免費幼稚園計劃:</strong> ${kindergarten.freeScheme}</p>
                <p class="text-gray-700 mb-1"><strong>地區:</strong> ${kindergarten.district}</p>
                <p class="text-gray-700 mb-1"><strong>性別:</strong> ${kindergarten.gender}</p>
                <p class="text-gray-700 mb-1"><strong>教學語言:</strong> ${kindergarten.teachingLanguage}</p>
                <p class="text-gray-700 mb-1"><strong>學費:</strong> ${kindergarten.tuition}</p>
                <p class="text-gray-700 mb-1"><strong>關聯小學:</strong> ${kindergarten.primarySchool}</p>
                <p class="text-gray-700 mb-1"><strong>關聯中學:</strong> ${kindergarten.secondarySchool}</p>
                <p class="text-gray-700 mb-1"><strong>關係:</strong> ${kindergarten.relationship}</p>
                <p class="text-gray-700"><strong>學校網址:</strong> <a href="${kindergarten.website}" target="_blank" class="text-blue-600 hover:underline">${kindergarten.website !== '待查' ? kindergarten.website : '待查'}</a></p>
            `;
            cardDiv.appendChild(detailsDiv);

            return cardDiv;
        }

        // Function to render kindergartens based on filters and current bookmark state
        function renderKindergartens() {
            kindergartenListDiv.innerHTML = ''; // Clear current list

            const selectedAssociationFilter = associationFilter.value;
            const selectedGenderFilter = genderFilter.value;
            const selectedLanguageFilter = languageFilter.value;

            const filteredKindergartens = kindergartens.filter(kindergarten => {
                const matchesAssociation = (selectedAssociationFilter === 'all') ||
                                           (selectedAssociationFilter === 'associated' && (kindergarten.primarySchool !== '沒有' || kindergarten.secondarySchool !== '沒有')) ||
                                           (selectedAssociationFilter === 'not-associated' && kindergarten.primarySchool === '沒有' && kindergarten.secondarySchool === '沒有');

                const matchesGender = (selectedGenderFilter === 'all') || (kindergarten.gender === selectedGenderFilter);
                const matchesLanguage = (selectedLanguageFilter === 'all') || (kindergarten.simplifiedTeachingLanguage === selectedLanguageFilter);

                return matchesAssociation && matchesGender && matchesLanguage;
            });

            filteredKindergartens.forEach(kindergarten => {
                kindergartenListDiv.appendChild(createKindergartenCard(kindergarten));
            });
        }

        // Firestore functions for bookmarks
        async function getBookmarkDocRef(kindergartenId) {
            // Corrected path structure for doc reference
            return doc(db, 'artifacts', appId, 'public', 'data', 'bookmarks', kindergartenId);
        }

        async function loadBookmarks() {
            try {
                // Corrected path structure for collection reference
                onSnapshot(collection(db, 'artifacts', appId, 'public', 'data', 'bookmarks'), (snapshot) => {
                    snapshot.docChanges().forEach(change => {
                        const bookmarkData = change.doc.data();
                        const kindergartenId = change.doc.id;

                        // Find the kindergarten in our local data and update its bookmark status
                        const index = kindergartens.findIndex(k => k.id === kindergartenId);
                        if (index !== -1) {
                            // Only update the userAId bookmark state as it's the only one displayed
                            kindergartens[index].bookmarkedBy[userAId] = bookmarkData.bookmarkedBy && bookmarkData.bookmarkedBy[userAId] || false;
                        }
                    });
                    renderKindergartens(); // Re-render after updating bookmarks
                });
            } catch (error) {
                console.error("Error loading bookmarks:", error);
            }
        }

        async function toggleBookmark(event, kindergartenId, userId) {
            event.stopPropagation(); // Prevent card click event from firing

            if (!db) {
                console.error("Firestore not initialized.");
                return;
            }

            const docRef = await getBookmarkDocRef(kindergartenId);

            try {
                const docSnap = await getDoc(docRef);
                let currentBookmarks = {};

                if (docSnap.exists()) {
                    currentBookmarks = docSnap.data().bookmarkedBy || {};
                }

                // Toggle the bookmark status for the specific user (userAId in this case)
                currentBookmarks[userId] = !currentBookmarks[userId];

                await setDoc(docRef, { bookmarkedBy: currentBookmarks }, { merge: true });
                console.log(`Bookmark for ${kindergartenId} by ${userId} toggled to ${currentBookmarks[userId]}`);

            } catch (e) {
                console.error("Error toggling bookmark: ", e);
            }
        }

        // Initialize Firebase and load bookmarks
        async function initializeAppAndLoadData() {
            try {
                app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);

                // Sign in anonymously if no custom token, otherwise use custom token
                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken);
                } else {
                    await signInAnonymously(auth);
                }

                onAuthStateChanged(auth, (user) => {
                    if (user) {
                        currentUserId = user.uid;
                        console.log("Firebase authenticated. User ID:", currentUserId);
                        loadBookmarks(); // Load bookmarks once authenticated
                    } else {
                        console.log("No user signed in.");
                        // Handle unauthenticated state if necessary
                    }
                });

            } catch (error) {
                console.error("Error initializing Firebase:", error);
                // Display a user-friendly message about the error
                const errorDiv = document.createElement('div');
                errorDiv.className = 'text-red-500 text-center mt-4';
                errorDiv.textContent = '無法加載書籤功能。請檢查您的網絡連接或稍後再試。';
                document.body.appendChild(errorDiv);
            }
        }

        // Add event listeners to filters
        associationFilter.addEventListener('change', renderKindergartens);
        genderFilter.addEventListener('change', renderKindergartens);
        languageFilter.addEventListener('change', renderKindergartens);

        // Call initialization function on window load
        window.onload = initializeAppAndLoadData;

    </script>
</body>
</html>
